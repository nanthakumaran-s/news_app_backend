<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Api Benchmark :: report</title>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/excanvas.min.js"></script><![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasTextRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.highlighter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.cursor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.6.1/lodash.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/dark.min.css" type="text/css" />

    <style type="text/css">
      .jqplot-target {
        color: #F1F1F1;
      }
      table.jqplot-table-legend, table.jqplot-cursor-legend {
        background-color: rgba(101, 0, 253, 0.89)
      }

      body {
        background: #3D3D3D;
        color: #F1F1F1;
      }

      a {
        color: #6699FF;
      }

      #report-details, #charts {
        width: 100%;
        float: left;
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
      }

      #report-details {
        margin-bottom: 20px;
        text-align: center;
      }

      .buttons {
        width: 100%;
        border-bottom: 1px solid rgb(75, 72, 72);
        padding-bottom: 10px;
        margin-bottom: 10px;
        text-align: right;
      }

      .button {
        margin-right: 10px;
        padding: 6px;
        text-decoration: none;
      }

      .button.selected {
        background-color: rgb(56, 56, 56);
      }

      .chart {
        width: 60%;
        height: 450px;
        float: left;
      }

      .distchart {
        width: 96%;
        height: 450px;
        float: left;
      }

      .panel {
        height: 450px;
        overflow-y: auto;
      }

      .route {
        width: 90%;
        margin: 3%;
        padding: 2%;
        float: left;
        background-color: #000000;
        border-radius: 15px;
      }
      .stats-details {
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
        font-size: 15px;
        float: left;
        width: 36%;
        padding: 2%;
      }

      .green {
        color: green;
      }

      .red {
        color: red;
      }

      .hide {
        display:none;
      }

      pre code {
        overflow-x: auto;
      }

    </style>
  </head>
  <body>
    <script><!--
    var data={"benchmark":{"server":{"signup":{"name":"server/signup","href":"http://localhost:8080/api/auth/v1/signup","stats":{"sample":[0.5807473,0.5240144,0.441998,0.4795388,0.4295449,0.412856,0.4573743,0.4680643,0.4618223,0.4453698,0.4721132,0.4121771,0.4305714,0.5141723,0.4241916,0.5995901,0.434531,0.4884013,0.4131244,0.4703117,0.4231485,0.4605019],"mean":0.46564384545454546,"singleMean":0.46564384545454546,"variance":0.002582928793350216,"deviation":0.05082252250085798,"sem":0.010835398204182051,"moe":0.022537628264698666,"rme":4.840100107561437,"p75":0.481754425,"p95":0.59676368,"p99":0.5995901,"p999":0.5995901},"errors":{},"options":{"method":"post","concurrencyLevel":1,"start":"2021-09-07T12:13:24.248Z","end":"2021-09-07T12:13:34.494Z"},"request":{"headers":{"Accept":"application/json"},"data":{"username":"riyaz","email":"riyaz@example.com","fullname":"Riyazur Razak","password":"rioragul@27","deviceid":"123438518543799134885375128517235123851375714751438503475154907351347","home_location":{"city":"Karur","state":"Tamil Nadu","country":"India"},"platform":"Android"}},"response":{"header":{"content-security-policy":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","x-dns-prefetch-control":"off","expect-ct":"max-age=0","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-permitted-cross-domain-policies":"none","referrer-policy":"no-referrer","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","content-type":"application/json; charset=utf-8","content-length":"90","etag":"W/\"5a-57BtwTI984ELq7+FcfHmjP4SGak\"","vary":"Accept-Encoding","date":"Tue, 07 Sep 2021 12:13:24 GMT","connection":"close"},"statusCode":200,"body":"{\"success\":false,\"isUserExsisted\":true,\"desc\":\"Username Already Exsited. Try Other names\"}","type":"application/json"},"hz":2.147564087363454},"signin":{"name":"server/signin","href":"http://localhost:8080/api/auth/v1/signin","stats":{"sample":[0.5237356,0.4335864,0.3800919,0.4671087,0.4243562,0.4204859,0.5175374,0.4432275,0.4354556,0.5968794,0.3970158,0.471453,0.4660522,0.5239555,0.4145132,0.4745275,0.6644739,0.4085828,0.4880211,0.4164558,0.4684465,0.4546212],"mean":0.4677537772727272,"singleMean":0.4677537772727272,"variance":0.004446441076167552,"deviation":0.06668163972314682,"sem":0.01421657335674163,"moe":0.029570472582022594,"rme":6.321803055110619,"p75":0.495400175,"p95":0.6543347249999998,"p99":0.6644739,"p999":0.6644739},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-09-07T12:13:34.502Z","end":"2021-09-07T12:13:44.793Z"},"request":{"query":{"username":"sanjaiy","password":"popz"}},"response":{"header":{"content-security-policy":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","x-dns-prefetch-control":"off","expect-ct":"max-age=0","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-permitted-cross-domain-policies":"none","referrer-policy":"no-referrer","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","content-type":"application/json; charset=utf-8","content-length":"225","etag":"W/\"e1-ErNAaTwh+DMIWwIpp4Q8bWKABtQ\"","vary":"Accept-Encoding","date":"Tue, 07 Sep 2021 12:13:35 GMT","connection":"close"},"statusCode":200,"body":"{\"success\":true,\"data\":{\"username\":\"sanjaiy\",\"email\":\"sanjaiy@gmail.com\",\"fullname\":\"Bomb Bakri\",\"current_location\":{},\"home_location\":{\"city \":\"karur\"},\"avatar\":\"http://localhost:8080/uploads/avatars/sanjaiy.png\",\"score\":0}}","type":"application/json"},"hz":2.13787691000717},"username_available":{"name":"server/username_available","href":"http://localhost:8080/api/auth/v1/isusername-available","stats":{"sample":[0.0067891,0.0044706,0.0047906,0.0034363,0.0034504,0.0034313,0.0037393,0.0033266,0.0034979,0.0032643,0.0045079,0.0033866,0.0034395,0.0033953,0.0033377,0.0062383,0.0035749,0.0052907,0.0038928,0.0033258,0.0034068,0.0031909,0.003169,0.0032315,0.0033707,0.00439,0.0048131,0.0035531,0.0035441,0.0040102,0.0037198,0.0033349,0.0045353,0.0031531,0.0031026,0.0030222,0.0032057,0.0031795,0.0031807,0.0031805,0.0047239,0.0044913,0.0036841,0.0032558,0.0038278,0.0033844,0.0041412,0.0032184,0.0034107,0.0032207,0.0040153,0.0036575,0.0036091,0.0033993,0.0039426,0.0039526,0.003139,0.0030564,0.0041086,0.0032196,0.0033078,0.0041618,0.0034033,0.003795,0.0035106,0.0041327,0.003244,0.0030887,0.0031135,0.0031743,0.0033669,0.003108,0.0029984,0.0029729,0.0029515,0.0031013,0.0029486,0.003046,0.0035385,0.0032294,0.0031183,0.0030303,0.0031894,0.0030833,0.0037676,0.0034911,0.0031307,0.0041477,0.0038189,0.004327,0.0043879,0.003056,0.0029816,0.0030033,0.0030435,0.0031025,0.0032311,0.0030152,0.0030085,0.0028796,0.0030744,0.0030651,0.0032711,0.0034379,0.0035733,0.0042073,0.0042267,0.0031549,0.0032805,0.0035665,0.0035845,0.00326,0.0031666,0.0032503,0.0033438,0.0033286,0.0032267,0.0032824,0.0032021,0.0034324,0.0032368,0.0032466,0.0032486,0.0038328,0.003985,0.0035857,0.0030783,0.0038804,0.0034635,0.0036986,0.0040895,0.0035426,0.0032445,0.0034106,0.0036146,0.0032157,0.0032277,0.0031487,0.0031284,0.0038743,0.0031146,0.0032731,0.0031324,0.0046416,0.0034397,0.0032518,0.0033658,0.0031883,0.0033185,0.0036179,0.0035211,0.0031389,0.00315,0.0033857,0.0032064,0.003209,0.0031172,0.003245,0.0032658,0.0032716,0.0034102,0.004718,0.0051211,0.0041107,0.0034527,0.0039245,0.0041748,0.0038428,0.0030998,0.0037798,0.0034456,0.0037178,0.0036105,0.0032979,0.0034904,0.003765,0.0042194,0.0034344,0.0032688,0.0033966,0.0036966,0.0060698,0.0030683,0.0039081,0.003582,0.0032225,0.0031221,0.0033823,0.0031271,0.0058883,0.0035598,0.0030069,0.00295,0.0030522,0.003168,0.0029789,0.002996,0.0029687,0.0042116,0.0038426,0.003343,0.003305,0.0028688,0.0030822,0.0030924,0.0032669,0.0030056,0.0030502,0.0031407,0.0030893,0.0031364,0.0037582,0.0030845,0.003064,0.0031901,0.0032095,0.0031275,0.0032056,0.0031236,0.0041615,0.0031689,0.0035423,0.0032179,0.0031284,0.0030889,0.0031409,0.0030392,0.0030479,0.003523,0.0034418,0.0033602,0.0031324,0.0032722,0.0030589,0.0031155,0.0032742,0.0031414,0.0031929,0.0030807,0.0031245,0.0031386,0.0031951,0.0030738,0.0031468,0.003191,0.0031461,0.003314,0.0031281,0.0031551,0.0031176,0.0031776,0.0034741,0.0033713,0.0035883,0.0050372,0.0033511,0.0030682,0.0030662,0.0030302,0.0030909,0.0032497,0.003201,0.0029866,0.0031062,0.0029896,0.0032198,0.0031633,0.0030184,0.0034445,0.0032285,0.0033566,0.0032919,0.0031178,0.003114,0.0036761,0.0035195,0.0035936,0.0035992,0.0035765,0.0034286,0.0033793,0.0034633,0.0030542,0.0028376,0.0030945,0.0029438,0.0031728,0.0027698,0.0029676,0.003264,0.0030521,0.0033661,0.0033279,0.0032271,0.0032018,0.0029075,0.0030926,0.0030393,0.0027285,0.0035847,0.0033035,0.0036143,0.0031319,0.0032876,0.003211,0.0028362,0.0031805,0.0034592,0.0034991,0.0052318,0.0047454,0.0056801,0.003031,0.0026762,0.0026981,0.0027418,0.0028835,0.0028734,0.0026249,0.0026946,0.0029521,0.0029658,0.0034949,0.0029473,0.0037212,0.0031284,0.0032792,0.0049817,0.0032136,0.0030645,0.0028614,0.0029477,0.0027574,0.002731,0.0027651,0.0029986,0.0360254,0.0037425,0.0037352,0.0046985,0.0032997,0.0043356,0.0046369,0.0042712,0.0037747,0.0044626,0.0030527,0.0029401,0.0028766,0.0028105,0.0028747,0.0029621,0.0031719,0.0028433,0.0027069,0.0031581,0.0031627,0.0031782,0.0044744,0.0038405,0.0030325,0.0030973,0.0028929,0.003412,0.0029228,0.0034511,0.0034688,0.0033315,0.003489,0.0034231,0.0030538,0.0031982,0.0035927,0.0031048,0.0029593,0.0032588,0.0031578,0.0036386,0.003178,0.0036111,0.0029493,0.0035715,0.003108,0.0028391,0.0031026,0.002761,0.0032408,0.0032535,0.0030482,0.0031676,0.002881,0.0029288,0.0039107,0.004214,0.0032989,0.0030076,0.0031232,0.003062,0.002928,0.0028766,0.0030183,0.003205,0.0033246,0.00316,0.0028918,0.0029051,0.0033992,0.0030742,0.0034397,0.0040468,0.0034171,0.0036904,0.003316,0.0032111,0.0030872,0.0036529,0.0028672,0.0028584,0.0033643,0.0031431,0.0029413,0.0029735,0.003587,0.0044002,0.0031197,0.0033508,0.0027891,0.0031066,0.0028328,0.0029363,0.002884,0.0032995,0.0030855,0.0032433,0.0033829,0.0030123,0.0031779,0.0028906,0.0031246,0.0063883,0.0041443,0.004428,0.0047327,0.0031336,0.0029008,0.0030211,0.0031811,0.0032069,0.0029952,0.0029871,0.0029797,0.0028629,0.0033486,0.0029857,0.0032574,0.0030774,0.002983,0.0031617,0.0029525,0.0030553,0.0031078,0.0031246,0.0033694,0.0030753,0.0031691,0.0028115,0.0027193,0.0030305,0.0033639,0.0030645,0.0030346,0.003088,0.0035479,0.0032991,0.0031243,0.0029863,0.0028142,0.0034369,0.0029839,0.0033362,0.0027643,0.0027328,0.0028296,0.0030352,0.0040775,0.0032471,0.003513,0.0033349,0.0028182,0.0031332,0.0033066,0.0031469,0.0029984,0.0031125,0.0031306,0.0031077,0.0034438,0.0034045,0.0035328,0.0033448],"mean":0.0034377494000000027,"singleMean":0.0034377494000000027,"variance":0.0000024252473009014435,"deviation":0.0015573205517495246,"sem":0.00006964549232938832,"moe":0.0001365051649656011,"rme":3.970771254169981,"p75":0.0034909249999999998,"p95":0.00447421,"p99":0.006067985000000001,"p999":0.0360254},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-09-07T12:13:44.794Z","end":"2021-09-07T12:13:46.521Z"},"request":{"query":{"username":"riyaz"}},"response":{"header":{"content-security-policy":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","x-dns-prefetch-control":"off","expect-ct":"max-age=0","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-permitted-cross-domain-policies":"none","referrer-policy":"no-referrer","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","content-type":"application/json; charset=utf-8","content-length":"36","etag":"W/\"24-XfbeAhvv1n8Htt3kBBcLzQh8atY\"","vary":"Accept-Encoding","date":"Tue, 07 Sep 2021 12:13:44 GMT","connection":"close"},"statusCode":200,"body":"{\"success\":true,\"isavailable\":false}","type":"application/json"},"hz":290.88798619236155},"change_location":{"name":"server/change_location","href":"http://localhost:8080/api/auth/v1/change-location","stats":{"sample":[0.1582538,0.2038493,0.1262378,0.1374055,0.2192248,0.1258251,0.1381508,0.1377924,0.0949347,0.1326432,0.1379128,0.2567148,0.1131939,0.1122746,0.1101599,0.1086159,0.0992586,0.108346,0.1023397,0.1082087,0.1089346,0.1032014,0.1018475,0.1065412,0.0997075,0.1134454,0.2445185,0.1022791,0.107994,0.1034717,0.1088045,0.1005911,0.110703,0.183499,0.1036987,0.1012012,0.2059649,0.1131872,0.1005852,0.1958316,0.1060643,0.2012332,0.2041841,0.1022961,0.1119306,0.1100584,0.1102281,0.1810876,0.1067623,0.10761,0.1949249,0.2035918,0.1046726,0.1106252,0.1090881,0.108376,0.1001508,0.10207,0.1842608,0.2047508,0.1082048,0.1031159,0.1083692,0.0976553,0.1967342,0.1027134,0.1010329,0.1021227,0.1075523,0.1185818,0.1017483,0.1122842,0.1155559,0.1014134,0.10038,0.1103239,0.1078315,0.1147217],"mean":0.12848277820512818,"singleMean":0.12848277820512818,"variance":0.0016171615894279609,"deviation":0.04021394769763298,"sem":0.004553332943032176,"moe":0.008924532568343064,"rme":6.946092459251364,"p75":0.137502225,"p95":0.20662789499999998,"p99":0.2567148,"p999":0.2567148},"errors":{},"options":{"method":"patch","concurrencyLevel":1,"start":"2021-09-07T12:13:46.523Z","end":"2021-09-07T12:13:56.548Z"},"request":{"headers":{"Accept":"application/json"},"data":{"username":"riyaz","current_location":{"city":"Erode","state":"Tamil Nadu","country":"India"}}},"response":{"header":{"content-security-policy":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","x-dns-prefetch-control":"off","expect-ct":"max-age=0","x-frame-options":"SAMEORIGIN","strict-transport-security":"max-age=15552000; includeSubDomains","x-download-options":"noopen","x-content-type-options":"nosniff","x-permitted-cross-domain-policies":"none","referrer-policy":"no-referrer","x-xss-protection":"0","access-control-allow-origin":"*","access-control-allow-credentials":"true","content-type":"application/json; charset=utf-8","content-length":"600","etag":"W/\"258-Up3tAYGqay7UcVazfeif1MoQ/k0\"","vary":"Accept-Encoding","date":"Tue, 07 Sep 2021 12:13:46 GMT","connection":"close"},"statusCode":200,"body":"{\"success\":true,\"data\":{\"_id\":\"613752c508d191805684345b\",\"username\":\"riyaz\",\"email\":\"riyaz@example.com\",\"fullname\":\"Riyazur Razak\",\"avatar\":\"https://res.cloudinary.com/dqf7aonc2/image/upload/v1630921545/default_sdvwtk.png\",\"deviceid\":\"123438518543799134885375128517235123851375714751438503475154907351347\",\"platform\":\"Android\",\"home_location\":{\"city\":\"Karur\",\"state\":\"Tamil Nadu\",\"country\":\"India\"},\"score\":0,\"published\":[],\"isDeleted\":false,\"password\":\"$2b$12$NsjNewBttwTY4J8De2L.pOv6Xj4DHd.MYed3gRdcgxF9600ZtJBLG\",\"__v\":0,\"current_location\":{\"city\":\"Erode\",\"state\":\"Tamil Nadu\",\"country\":\"India\"}}}","type":"application/json"},"hz":7.783144277931613}}},"info":{"date":"2021-09-07T12:13:56.559Z","apiName":"server"}};
    // --></script>
    <div id="report">
      <div id="report-details"><h1>Api Benchmark report</h1></div>
      <div id="charts"></div>
    </div>
    <div style="text-align: center">
    Generated by <a href="https://github.com/matteofigus/api-benchmark" target="_blank">api-benchmark</a><br /><br />
    <iframe src="http://ghbtns.com/github-btn.html?user=matteofigus&repo=api-benchmark&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
    </div>
    <script>

      var selectors = {
        charts: '#charts',
        reportDetails: '#report-details',
        panel: '.panel',
        panels: {
          stats: '.stats',
          distribution: '.distribution',
          response: '.response',
          request: '.request'
        },
        button: '.button',
        buttons: {
          stats: '.button-stats',
          distribution: '.button-distribution',
          response: '.button-response',
          request: '.button-request'
        }
      };

      var formatNumber = function(number) {
        number = String(number).split('.');
        return number[0].replace(/(?=(?:\d{3})+$)(?!\b)/g, ',') +
          (number[1] ? '.' + number[1] : '');
      };

      var formatDate = function(date){
        return date.replace(/T/g, ' ').replace(/Z/g, ' ');
      };

      var fixNumber = function(number, digits){
        return formatNumber(number.toFixed(digits));
      };

      var decodeHtml = function(text){
        return $('<div/>').text(text).html();
      };

      var templates = {
        reportDetails: function(info){
          var formattedDate = formatDate(info.date);
          return 'Benchmarked ' + info.apiName + ' on ' + formattedDate;
        },
        route: function(routeData, i){
          var errorsCount = 0,
              errorsDesc = '(',
              duration = (new Date(routeData.options.end) - new Date(routeData.options.start))/1e3;

          for(var errorType in routeData.errors){
            errorsCount += routeData.errors[errorType].length;
            errorsDesc += routeData.errors[errorType].length + ' ' + errorType + ',';
          }

          if(errorsCount == 0)
            errorsDesc = '';
          else
            errorsDesc = errorsDesc.substr(0, errorsDesc.length - 1) + ')';

          var template = '<div class="route"><div class="buttons">' +
            '<a href="#stats" class="button button-stats selected">Stats</a>' +
            '<a href="#distribution" class="button button-distribution">Distribution</a>' +
            '<a href="#request" class="button button-request">Request details</a>' +
            '<a href="#response" class="button button-response">Response details</a>' +
            '</div><div class="stats panel"><div class="chart" id="chart' + i + '"></div>' +
            '<div class="stats-details"><ul><li>' + routeData.stats.sample.length + ' run' +
            (routeData.stats.sample.length > 1 ? 's' : '') + ' sampled with concurrency: ' +
            routeData.options.concurrencyLevel + '</li>';

          if(routeData.options.expectedStatusCode)
            template += '<li>Expected status code: ' + routeData.options.expectedStatusCode + '</li>';

          if(routeData.options.maxMean)
            template += '<li>Expected max mean: ' + routeData.options.maxMean + '</li>';

          if(routeData.options.maxSingleMean)
            template += '<li>(*) Expected max mean across all concurrent requests: ' + routeData.options.maxSingleMean + '</li>';

          template += '</ul><ul><li>Started: ' + formatDate(routeData.options.start) + '</li>' +
            '<li>Ended: ' + formatDate(routeData.options.end) + ' (' + duration + ' seconds)</li>' +
            '<li>' + fixNumber(routeData.hz, 2) + ' ops/sec \xb1 ' + fixNumber(routeData.stats.rme, 2) + '%</li>' +

            '<li class="' + (!errorsCount ? 'green' : 'red') + '">' + errorsCount + ' error' +
            (errorsCount == 1 ? '' : 's') + ' ' + errorsDesc + '</li>' +

            '<li>Sample arithmetic mean: ' + fixNumber(routeData.stats.mean, 6) + '</li>';

          if(routeData.options.concurrencyLevel > 1)
            template += '<li>Mean across all the concurrent requests: ' + fixNumber(routeData.stats.singleMean, 6) + '</li>';

          template += '<li>Sample standard deviation: ' + fixNumber(routeData.stats.deviation, 6) + '</li>' +
            '<li>Margin of error: ' + fixNumber(routeData.stats.moe, 6) + '</li>' +
            '<li>The standard error of the mean: ' + fixNumber(routeData.stats.sem, 6) + '</li>' +
            '<li>The sample variance: ' + fixNumber(routeData.stats.variance, 6) + '</li>' +
            '</ul><ul><li>75% Percentile: ' + fixNumber(routeData.stats.p75, 6) + '</li>' +
            '<li>95% Percentile: ' + fixNumber(routeData.stats.p95, 6) + '</li>' +
            '<li>99% Percentile: ' + fixNumber(routeData.stats.p99, 6) + '</li>' +
            '<li>99.9% Percentile: ' + fixNumber(routeData.stats.p999, 6) + '</li>' +
            '</ul></div></div><div class="distribution panel"><div class="distchart" id="distchart' + i + '">' +
            '</div></div><div class="request panel hide">Request: ' + routeData.options.method.toUpperCase() +
            ' <a href="' + routeData.href + '" target="_blank">' +
            routeData.href + '</a><br />Concurrency level: ' + routeData.options.concurrencyLevel + '<br />';

          if(routeData.options.delay)
            template += 'Delay between bench cycles: ' + routeData.options.delay + '<br />';

          var requestHeaders = 'none',
              requestData = 'none',
              requestQuery = 'none';

          if(!!routeData.request.headers)
            requestHeaders = '<br /><pre><code>' + JSON.stringify(routeData.request.headers, undefined, 2) + '</pre></code>';

          if(!!routeData.request.data)
            requestData = '<br /><pre><code>' + JSON.stringify(routeData.request.data, undefined, 2) + '</pre></code>';

          if(!!routeData.request.query)
            requestQuery = '<br /><pre><code>' + JSON.stringify(routeData.request.query, undefined, 2) + '</pre></code>';

          template += '<br />Headers sent: ' + requestHeaders + '<br />Data sent: ' + requestData + '<br />Query sent: ' + requestQuery + '<br /></div><div class="response panel hide">Data here refers to the first sampled response.<br /><br />';

          var responseHeader = JSON.stringify(routeData.response.header, undefined, 2),
              responseBody = '';

          try {
            responseBody = JSON.stringify(JSON.parse(decodeHtml(routeData.response.body)), undefined, 2);
          } catch(e){
            responseBody = decodeHtml(routeData.response.body);
          }

          template += 'Response status: ' + routeData.response.statusCode + '<br />Response headers:<br />' +
            '<pre><code>' + responseHeader + '</code></pre>' +
            '<br />Response body:<br /><pre><code>' + responseBody + '</code></pre><br /></div></div>';

          return template;
        }
      };

      var bindButtons = function(){
        var bindButton = function(panelName){
          $(selectors.buttons[panelName]).click(function(){
            var $sender = $(this),
                $panelsContainer = $sender.parent().parent();

            $panelsContainer.find(selectors.button).removeClass('selected');
            $sender.addClass('selected');

            $panelsContainer.find(selectors.panel).addClass('hide');
            $panelsContainer.find(selectors.panels[panelName]).removeClass('hide');

            return false;
          });
        };

        bindButton('stats');
        bindButton('distribution');
        bindButton('response');
        bindButton('request');
      };

      $(function(){
        $(selectors.reportDetails).append(templates.reportDetails(data.info));

        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            if(routeName == 'isSlowest' || routeName == 'isFastest') { 
              continue; 
            }
            $(selectors.charts).append(templates.route(data.benchmark[serviceName][routeName], counter));

            var samples = data.benchmark[serviceName][routeName]['stats']['sample'],
                meanArray = [],
                mean = data.benchmark[serviceName][routeName]['stats']['mean'],
                singleMeanArray = [],
                singleMean = data.benchmark[serviceName][routeName]['stats']['singleMean'],
                maxMeanArray = [],
                maxMean = data.benchmark[serviceName][routeName].options.maxMean !== undefined,
                maxSingleMeanArray = [],
                maxSingleMean = data.benchmark[serviceName][routeName].options.maxSingleMean !== undefined,
                errorsArray = [],
                areThereSomeErrors = false;

            for(var i = 0; i < samples.length; i++){
              meanArray.push(mean);
              singleMeanArray.push(singleMean);

              errorsArray.push(null);

              if(maxMean)
                maxMeanArray.push(data.benchmark[serviceName][routeName].options.maxMean);

              if(maxSingleMean)
                maxSingleMeanArray.push(data.benchmark[serviceName][routeName].options.maxSingleMean);
            }

            for(var errorType in data.benchmark[serviceName][routeName].errors){
              var errorsOfType = data.benchmark[serviceName][routeName]['errors'][errorType];
              for(var i = 0; i < errorsOfType.length; i++){
                if(errorsOfType[i].pos !== undefined){
                  errorsArray[errorsOfType[i].pos] = data.benchmark[serviceName][routeName]['stats']['sample'][errorsOfType[i].pos];
                  areThereSomeErrors = true;
                }
              }
            }

            var getSeriesOptions = function(label, color){
              return {
                showMarker: false,
                pointLabels: { show: true },
                label: label,
                color: color
              };
            };

            var lines = [samples],
                series = [getSeriesOptions('Samples', '#6699FF')];

            if(maxMean){
              lines.push(maxMeanArray);
              series.push(getSeriesOptions('Max Mean', '#F90'));
            }

            lines.push(meanArray);
            series.push(getSeriesOptions('Mean', '#66FF00'));

            if(maxSingleMean){
              lines.push(maxSingleMeanArray);
              series.push(getSeriesOptions('Max Single Mean (*)', '#EBFF00'));

              lines.push(singleMeanArray);
              series.push(getSeriesOptions('Single mean', '#FC6333'));
            }

            if(areThereSomeErrors > 0){
              lines.push(errorsArray);
              series.push({
                showLine:false,
                markerOptions: { size: 7, style:'x' },
                label: 'Errors',
                color: '#FF0000'
              });
            }

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              cursor:{
                show: true,
                zoom:true,
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Samples',
                  pad: 0
                },
                yaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.6f'
                  }
                }
              },
              series: series
            };

            $.jqplot('chart' + counter, lines, options);
            counter++;
          }
        }
        hljs.initHighlightingOnLoad();
        bindButtons();
      });

      $(function(){
        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            if(routeName == 'isSlowest' || routeName == 'isFastest') { 
              continue; 
            }
            var samples = data.benchmark[serviceName][routeName]['stats']['sample'];
            var sortedSamples = _.orderBy(samples);
            var totalDelta = sortedSamples[sortedSamples.length - 1] - sortedSamples[0];

            var bucketCount = ~~Math.min(totalDelta*1000, sortedSamples.length);
            var delta = totalDelta/bucketCount;

            var buckets = [[sortedSamples[0] + delta/2.0, 0]];

            for (var i = 0; i < samples.length; i++) {
              var s = sortedSamples[i];
              while(s > (sortedSamples[0] + buckets.length * delta)) {
                buckets.push([(sortedSamples[0] + buckets.length * delta + delta/2.0), 0]);
              }
              buckets[buckets.length - 1][1]++;
            }

            buckets = _.map(buckets, function(b){
              return [b[0], 100*b[1]/samples.length];
            });


            var lines = [buckets],
                series = [{
                  showMarker: false,
                  pointLabels: { show: true },
                  label: 'Samples',
                  color: '#6699FF',
                  rendererOptions: {
                    smooth: true
                  }
                }];

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              cursor:{
                show: true,
                zoom:true,
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.3f'
                  }
                },
                yaxis: {
                  label: 'Percent of responses',
                  tickOptions: {
                    formatString: '%.1f%'
                  }
                }
              },
              series: series
            };

            $.jqplot('distchart' + counter, lines, options);
            counter++;
          }
        }
        $(".distribution.panel").addClass('hide');
      });
    </script>
  </body>
</html>
